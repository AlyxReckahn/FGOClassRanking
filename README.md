# FGOClassRanking

So, I was inspired to create this program by some people who used the PageRank algorithm to give rankings to Pokemon classes ([here](https://www.reddit.com/r/pokemon/comments/8gef0t/i_used_a_pagerankstyle_algorithm_to_rank_pok%C3%A9mon/) and [here](https://towardsdatascience.com/recreational-data-science-whats-the-best-pok%C3%A9mon-type-d3fcd28ea740?gi=417ef27ef448)), as well as the recent reveal of a new class in FGO creating a [new affinity chart](https://www.reddit.com/r/grandorder/comments/oy1xux/i_made_a_new_affinity_diagram/). So I wanted to do something like that to rank classes in FGO. Admittedly, I don't fully understand how PageRank works, plus it apparently doesn't handle weighted edges very well, so I wound up creating the best algorithm I could and hope it works.


Basically, my first two algorithms are similar to the offensive/defensive PageRank algorithms given in the first two links. For defensive PageRank, A links to B if A deals less damage to B. From there, for PageRank, each class starts with the same starting value. In each iteration of the algorithm, each class splits its value equally among all off the classes it links to and sends that part of its value there; however, a part of its value, called the "damping factor", is instead split among all the classes. This repeats until the values settle; classes can then be ranked by value. In the original algorithm, this is intended to simulate a web surfer randomly clicking links on pages, and occasionally going to an unrelated page.

For offensive PageRank, class A links to class B if B deals more damage against A (in PageRank, A linking to B is good for B); this seems to be the opposite of what the link says, but it makes sense to me right now. The rest of the algorithm is the same, with one wrinkle. In order to handle some attack affinities being 1.5x instead of 2x, I have 1.5x links instead transfer half of the value that would normally be given (since it's half the extra damage), and the rest stays where it is.


I can get an overall value by averaging the results from the first two, but I also try to obtain this via my own Markov-style algorithm AFAIK. In this algorithm, every node is linked to every other with a weight for the damage affinity (0.5x, 1x, 1.5x, or 2x). Each node starts with the same value. Each step, the nodes split their current value evenly among each of the other nodes, but only give a part of that based on how well the other class can attack them.
For example, let's look at Saber and Archer; Saber deals 0.5x to Archer, but Archer deals 2x to Saber. In the algorithm, after both classes split their value into 14 portions for the 14 classes, they will give a part of this portion to each other. Since Archer deals the maximum possible damage to Saber, Saber will give all of its portion for Archer, but Archer will give Saber only 1/4 of its portion (since Saber can only deal 1/4th maximum damage to Archer) and keeps the rest. This again repeats until stabilization (hopefully).
